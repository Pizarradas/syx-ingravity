// MIXIN: GENERATE UTILITY
// ================================================
// Generates utility classes based on a map of values
// Usage: @include generate-utility('p', padding, $tokens-spacing);
// Output: .u-p-sm { padding: var(--space-sm); }
// NOTE: !important removed â @layer syx.utilities provides highest specificity.
// ================================================

@use 'sass:map';
@use 'sass:meta';

@mixin generate-utility($prefix, $property, $map, $hover: false) {
  @each $key, $value in $map {
    // Only generate if value is not null and valid
    @if $value != null {
      .u-#{$prefix}-#{$key} {
        #{$property}: $value;
      }

      @if $hover {
        .u-hover-#{$prefix}-#{$key}:hover {
          #{$property}: $value;
        }
      }
    }
  }
}

// MIXIN: GENERATE DIRECTIONAL UTILITY
// ================================================
// Usage: @include generate-utility-directional('m', margin, $tokens-spacing);
// Output: .u-mt-sm { margin-top... }, .u-mx-sm { margin-left... margin-right... }
// ================================================
@mixin generate-utility-directional($prefix, $property, $map) {
  @each $key, $value in $map {
    @if $value != null {
      // All sides
      .u-#{$prefix}-#{$key} {
        #{$property}: $value;
      }

      // Top
      .u-#{$prefix}t-#{$key} {
        #{$property}-top: $value;
      }
      // Bottom
      .u-#{$prefix}b-#{$key} {
        #{$property}-bottom: $value;
      }
      // Left
      .u-#{$prefix}l-#{$key} {
        #{$property}-left: $value;
      }
      // Right
      .u-#{$prefix}r-#{$key} {
        #{$property}-right: $value;
      }
      // X-Axis
      .u-#{$prefix}x-#{$key} {
        #{$property}-left: $value;
        #{$property}-right: $value;
      }
      // Y-Axis
      .u-#{$prefix}y-#{$key} {
        #{$property}-top: $value;
        #{$property}-bottom: $value;
      }
    }
  }
}
