// CORE
// ===============================================
@use "../abstracts/index" as *;
// ===============================================

// mol: card
// ===============================================
// A generic surface container. Use for docs sections,
// feature panels, or any elevated content block.
//
// Variants:
//   .mol-card--flat      â no shadow, no border
//   .mol-card--bordered  â stronger border
// ===============================================

@mixin mol-card($theme: null) {
  @layer syx.molecules {
  .mol-card {
    // Container context: allows children to use @container queries
    // instead of viewport-based media queries.
    // Support: Chrome 105+, Firefox 110+, Safari 16+
    container-type: inline-size;
    container-name: mol-card;

    background: var(--semantic-color-bg-primary);
    @include border(all, var(--semantic-border-width-thin), solid, var(--semantic-color-border-subtle));
    @include border-radius(var(--semantic-border-radius-lg));
    @include padding(var(--semantic-space-layout-md));
    @include margin(null null var(--semantic-space-layout-md) null);
    box-shadow: var(--semantic-shadow-card);

    // Card title (first heading child)
    > h1, > h2, > h3, > h4 {
      @include margin(0 null var(--semantic-space-stack-sm) null);
    }

    // Card description (first paragraph child)
    > p {
      @include margin(null null var(--semantic-space-stack-md) null);
      color: var(--semantic-color-text-tertiary);
      font-size: var(--semantic-font-size-body-small);
      line-height: var(--semantic-line-height-relaxed);
    }

    // &--flat: no shadow, no border
    &--flat {
      box-shadow: none;
      @include border(all, 0);
    }

    // &--bordered: stronger border
    &--bordered {
      border-color: var(--semantic-color-border-default);
    }

    // Container Query: wide card layout
    // When the card has enough width, allow two-column internal layouts.
    // Usage: place .mol-card__body--split inside a wide card.
    @container mol-card (min-width: 480px) {
      .mol-card__body--split {
        display: grid;
        grid-template-columns: 1fr 1fr;
        @include gap(var(--semantic-space-inline-md));
      }
    }
  }
  } // end @layer syx.molecules
}
